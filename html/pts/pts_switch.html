<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>AMC</title>
<script type="text/javascript" language="javascript" src="jquery.js"></script>
<SCRIPT src="ddsmoothmenu.js" type=text/javascript></SCRIPT>
<SCRIPT src="pts_public.js" type=text/javascript></SCRIPT>
<script type="text/javascript" language="javascript" src="jquery.jeditable.js"></script>
<script type="text/javascript" language="javascript" src="jquery.dataTables.min.js"></script>
<link rel="shortcut icon" href="../images/favicon.png">
<link rel="stylesheet" type="text/css" href="jquery.dataTables.min.css">
<LINK href="ddsmoothmenu.css" type=text/css rel=stylesheet>
<LINK href="pts_public.css" type=text/css rel=stylesheet>
<script type="text/javascript" language="javascript" class="init">

$(document).ready(function() {
    var oTable = $('#example').DataTable({
            "info" : true, 
            "aaSorting": [[1, "asc"]],
            "sDom": '<"top"f>rt<"bottom"lp>',
            "sAjaxSource": "/pts_switch_list.html",
            "oLanguage": {
                "sLengthMenu": "每页显示 _MENU_条",
                "sZeroRecords": "没有找到符合条件的数据",
                "sProcessing": "&lt;p&gt;&lt;img src=’./loading.gif’ /&gt;加载中......&lt;/p&gt;",
                "sInfo": "当前第 _START_ - _END_ 条　共计 _TOTAL_ 条",
                "sInfoEmpty": "木有记录",
                "sInfoFiltered": "(从 _MAX_ 条记录中过滤)",
                "sSearch": "搜索：",
                "oPaginate": {
                    "sFirst": "首页",
                    "sPrevious": "前一页",
                    "sNext": "后一页",
                    "sLast": "尾页"
                    }
              },
              "aoColumnDefs": [{"className": "checkBox",  "orderable": false, "aTargets": [0]}, {"className": "ptc_sn", "aTargets": [11]}, {"className": "ptc_nice", "aTargets": [3]}],

             "fnDrawCallback":function(){ $('#example tbody td.ptc_nice').editable('editable_ajax.html', {
                    "callback": function(sValue, y) {
                        // var aPos = oTable.fnGetPosition(this);
                        var aPos = oTable.fnGetPosition(this);
                        oTable.fnUpdate( sValue, aPos[0], aPos[1]);
                    },
                    "submitdata": function ( value, settings ) {
                        return {
                            "row_id": $(this).parent().children("td.ptc_sn").html(),
                            "column": $(this).find("input").val()
                        };
                    }
            })}
        });
        
		$('#example tbody').on( 'click', 'td', function () {
            if ($(this).find("input").val())
            {
                return true;
            }
            var _checked_ = $(this).parent().children("td.checkBox").children("input").prop('checked'); 
            if (_checked_) 
            {
                $(this).parent().children("td.checkBox").children("input").prop('checked', false); 
            } 
            else 
            { 
                $(this).parent().children("td.checkBox").children("input").prop('checked', true); 
            }
        });
});
updateTime();
</script>
</head>

<body style="margin:0; padding:0; background:#fafafa;">

<div class="nav_content">
    <div class="ddsmoothmenu nav_left" id="smoothmenu1">
    <UL>
      <LI><A href="index.html">远程访问</A></LI>
      <LI><A href="#">PTC管理</A> 
        <UL>
            <LI><A href="pts_switch.html">PTS切换</A> </LI>
            <LI><A href="pts_config.html">PTC配置</A> </LI>
            <LI><A href="pts_upgrades.html">PTC升级</A> </LI>
        </UL>
      </LI>
      <LI><A href="pts_user.html">用户管理</A></LI>
      <LI><A href="#">工具</A>
      <UL>
        <LI><A href="pts_ping.html">Ping测试</A></LI>
      </UL>
    </LI>
    </UL>
    </div>
    <div class="nav_right" > 
        <table style="height:48px; border-spacing: 0px; border-collapse:collapse;">
            <tr>
                <td style="width:180px;"><p class="longin_user"> <% curr_user(); %> 您好！</p></td>
                <td rowspan="2"><div class="longout"><a href="javascript:;" onclick="exit()"><img  src="../images/logout.png" /></a></div></td>
            </tr>
            <tr>
                <td style="width:180px; padding: 0px;" ><p id="system-time" style="font:11px tahoma;height:10px;width:160px;color: #F4F4F4;"></p></td>
            </tr>
        </table>
    </div>
</div>
<br>
<div class="content_body">
    <div>
        <div class="content_title">
            <p><b>PTS切换：</b></p>
        </div>
        <div>
            <p class="content_body">
                <label>PTS域名：</label>
                <input type="text" value="" id="switch_domain" />&nbsp;&nbsp;&nbsp;&nbsp;
                <label>PTS端口：</label>
                <input type="text" value="" id="switch_port" />&nbsp;&nbsp;
                <input type="button" value="切换" onclick="switch_pts()" />
            </p>
        </div>
    </div>
</div>
<div class="content_body">
    <table id="example" class="display" cellspacing="0" style="text-align:center">
        <thead>
            <tr>
                <th width="20px"><input type="checkbox" id="select_all" onclick="select_all()" /></th>        
                <th>注册时间</th>
                <th>名称</th>
                <th>备注名(点击修改)</th>
                <th>类型</th>
                <th>公网IP</th>
                <th>私网IP</th>
                <th>MAC地址</th>
                <th>PTS历史记录</th>
                <th>PTS历史记录</th>
                <th>PTS历史记录</th>
                <th>SN</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

<div id="cover">
    <div id="coverShow"> 
        <table align="center" border="0" width="100%" cellspacing="0" cellpadding="0" style="border-collapse: collapse; height: 100px; min-height: 100px;" > 
            <tr>
                <td align="center">
                    <img class="loading_img"  src="../images/loading.gif" />
                </td>
            </tr> 
        </table> 
    </div> 
</div>

</body>
</html>


